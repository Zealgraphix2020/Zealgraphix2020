const _0xbe70b1=_0x132a;(function(_0x2f244b,_0x57b31d){const _0x25ab6e=_0x132a,_0x3181b6=_0x2f244b();while(!![]){try{const _0x1675b3=parseInt(_0x25ab6e(0x1eb))/0x1*(-parseInt(_0x25ab6e(0x200))/0x2)+parseInt(_0x25ab6e(0x1d7))/0x3+parseInt(_0x25ab6e(0x1d3))/0x4*(parseInt(_0x25ab6e(0x1ee))/0x5)+-parseInt(_0x25ab6e(0x1de))/0x6+-parseInt(_0x25ab6e(0x1e4))/0x7+-parseInt(_0x25ab6e(0x1d2))/0x8*(parseInt(_0x25ab6e(0x20c))/0x9)+parseInt(_0x25ab6e(0x1ef))/0xa;if(_0x1675b3===_0x57b31d)break;else _0x3181b6['push'](_0x3181b6['shift']());}catch(_0x2b9713){_0x3181b6['push'](_0x3181b6['shift']());}}}(_0x5cf2,0x950b1));const ffmpeg=require(_0xbe70b1(0x20d)),{randomBytes}=require('crypto'),fs=require('fs'),{isUrl}=require('../utils'),{getHttpStream,toBuffer}=require('@adiwajshing/baileys'),sharp=require(_0xbe70b1(0x1f7)),{spawn}=require(_0xbe70b1(0x1f2)),path=require('path'),{fromBuffer}=require(_0xbe70b1(0x1ff));async function toGif(_0x5f4e8a){const _0xd95afc=_0xbe70b1;try{const _0x299172=_0xd95afc(0x1d9)+randomBytes(0x3)[_0xd95afc(0x205)](_0xd95afc(0x208))+'.webp',_0x371ca0=_0xd95afc(0x1d9)+randomBytes(0x3)['toString']('hex')+_0xd95afc(0x1f5);fs[_0xd95afc(0x203)](_0x299172,_0x5f4e8a[_0xd95afc(0x205)](_0xd95afc(0x1df)),_0xd95afc(0x1df));const _0x4e34ed=await new Promise(_0x1afef6=>{const _0xfa89ab=_0xd95afc;spawn(_0xfa89ab(0x1ed),[_0x299172,_0x371ca0])['on'](_0xfa89ab(0x1f8),_0x278a95=>{throw _0x278a95;})['on'](_0xfa89ab(0x1ea),()=>_0x1afef6(_0x371ca0));});let _0x5ecb25=fs[_0xd95afc(0x1d5)](_0x4e34ed);try{fs[_0xd95afc(0x1d8)](_0x299172),fs[_0xd95afc(0x1d8)](_0x371ca0);}catch(_0x11a89e){console[_0xd95afc(0x204)](_0x11a89e);}return _0x5ecb25;}catch(_0xfc6e08){console['log'](_0xfc6e08);}}async function toMp4(_0x4a5642){const _0x8d9eed=_0xbe70b1;try{let _0x20de50=_0x8d9eed(0x1f3)+randomBytes(0x3)[_0x8d9eed(0x205)](_0x8d9eed(0x208))+_0x8d9eed(0x1f5);const _0x24d89a=fs[_0x8d9eed(0x201)](_0x4a5642)?_0x4a5642:save(_0x4a5642,_0x20de50),_0x1ed069=_0x8d9eed(0x1f3)+randomBytes(0x3)[_0x8d9eed(0x205)](_0x8d9eed(0x208))+_0x8d9eed(0x1e7),_0x4e94cc=await new Promise(_0x21b809=>{const _0x455733=_0x8d9eed;ffmpeg(_0x24d89a)[_0x455733(0x1f0)]([_0x455733(0x1e1),'-c:v\x20libx264',_0x455733(0x1e6),_0x455733(0x1fb)])[_0x455733(0x207)]('mp4')['noAudio']()[_0x455733(0x202)](_0x1ed069)['on'](_0x455733(0x1ea),()=>_0x21b809(_0x1ed069));});let _0x10cb12=await fs['promises'][_0x8d9eed(0x1fa)](_0x4e94cc);return _0x10cb12;}catch(_0x50c3b1){console[_0x8d9eed(0x204)](_0x50c3b1);}}function _0x132a(_0x877d37,_0x37db7e){const _0x5cf2e7=_0x5cf2();return _0x132a=function(_0x132a3f,_0xe54fe9){_0x132a3f=_0x132a3f-0x1d2;let _0x45666c=_0x5cf2e7[_0x132a3f];return _0x45666c;},_0x132a(_0x877d37,_0x37db7e);}async function toAudio(_0xe51bef){return new Promise(async(_0x213dc0,_0x5cd8e2)=>{const _0x31dcfd=_0x132a;try{const _0x282c07=await toBuffer(await getHttpStream(_0xe51bef)),_0x57cb71=_0x31dcfd(0x1f9)+randomBytes(0x3)['toString'](_0x31dcfd(0x208))+'.'+(await fromBuffer(_0x282c07))[_0x31dcfd(0x1dc)],_0x5c7f37=Buffer['isBuffer'](_0xe51bef)?save(_0xe51bef,_0x57cb71):fs[_0x31dcfd(0x201)](_0xe51bef)?_0xe51bef:isUrl(_0xe51bef)?save(_0x282c07,_0x57cb71):_0xe51bef,_0x67e1d5=_0x31dcfd(0x1f3)+randomBytes(0x3)['toString']('hex')+_0x31dcfd(0x1e3),_0x8d197a=await new Promise(_0x5b6078=>{const _0x5e9f9d=_0x31dcfd;ffmpeg(_0x5c7f37)[_0x5e9f9d(0x20a)](0xac44)[_0x5e9f9d(0x1e0)](0x2)[_0x5e9f9d(0x1db)](_0x5e9f9d(0x1f4))[_0x5e9f9d(0x1e5)](_0x5e9f9d(0x1d4))[_0x5e9f9d(0x1f6)](0x5)[_0x5e9f9d(0x207)]('mp3')[_0x5e9f9d(0x202)](_0x67e1d5)['on'](_0x5e9f9d(0x1e2),()=>_0x5b6078(_0x67e1d5));});_0x213dc0(_0x8d197a);}catch(_0x2bc3f1){console[_0x31dcfd(0x204)](_0x2bc3f1);}});}const EightD=async _0x2efe0=>{const _0x4b543c=_0xbe70b1,_0x225f97='./temp/'+randomBytes(0x3)['toString'](_0x4b543c(0x208))+'.mp3';_0x2efe0=Buffer[_0x4b543c(0x1fd)](_0x2efe0)?save(_0x2efe0,_0x225f97):_0x2efe0;const _0x133f4b='./temp/'+randomBytes(0x3)['toString'](_0x4b543c(0x208))+_0x4b543c(0x1e3),_0x38453a=await new Promise(_0x391cf6=>{const _0x34d1ee=_0x4b543c;ffmpeg(_0x2efe0)[_0x34d1ee(0x20b)]([_0x34d1ee(0x206)])[_0x34d1ee(0x20a)](0xac44)[_0x34d1ee(0x1e0)](0x2)[_0x34d1ee(0x1db)]('128k')[_0x34d1ee(0x1e5)](_0x34d1ee(0x1d4))[_0x34d1ee(0x1f6)](0x5)[_0x34d1ee(0x207)](_0x34d1ee(0x209))[_0x34d1ee(0x202)](_0x133f4b)['on'](_0x34d1ee(0x1e2),()=>_0x391cf6(_0x133f4b));});return _0x38453a;};function save(_0x18ae6f,_0x14cc0d){const _0x3ab5ab=_0xbe70b1;try{return fs[_0x3ab5ab(0x203)](_0x14cc0d,_0x18ae6f['toString'](_0x3ab5ab(0x1df)),'binary'),_0x14cc0d;}catch(_0x3cd9ba){console[_0x3ab5ab(0x204)](_0x3cd9ba);}}function _0x5cf2(){const _0x29e3f8=['fluent-ffmpeg','560omzZsR','2327572EXdrqb','libmp3lame','readFileSync','resize','292518mysyYf','unlinkSync','../temp/','path','audioBitrate','ext','promises','1236084kSrGIs','binary','audioChannels','-pix_fmt\x20yuv420p','end','.mp3','2322761ojZbZZ','audioCodec','-movflags\x20+faststart','.mp4','buffer','unlink','exit','1OrAHWd','then','convert','5cAVERk','17486810wmkpTr','outputOptions','toBuffer','child_process','./temp/','128k','.gif','audioQuality','sharp','error','./temp/video_','readFile','-filter:v\x20crop=\x27floor(in_w/2)*2:floor(in_h/2)*2\x27','Input\x20is\x20not\x20a\x20Buffer','isBuffer','contain','file-type','1369664FMcNnh','existsSync','save','writeFileSync','log','toString','apulsator=hz=0.125','toFormat','hex','mp3','audioFrequency','audioFilter','76491DQqNkR'];_0x5cf2=function(){return _0x29e3f8;};return _0x5cf2();}const resizeImage=(_0x2c6bb1,_0x31730,_0x5cbcbb)=>{const _0xfec67f=_0xbe70b1;if(!Buffer['isBuffer'](_0x2c6bb1))throw _0xfec67f(0x1fc);return new Promise(async _0x37e900=>{const _0x2df4aa=_0xfec67f;sharp(_0x2c6bb1)[_0x2df4aa(0x1d6)](_0x31730,_0x5cbcbb,{'fit':_0x2df4aa(0x1fe)})[_0x2df4aa(0x1f1)]()[_0x2df4aa(0x1ec)](_0x37e900);});},_parseInput=async(_0x95acd,_0x14044c,_0x15a561=_0xbe70b1(0x1da))=>{const _0x8c3146=_0xbe70b1,_0x2711b6=await toBuffer(await getHttpStream(_0x95acd)),_0x5a6617='./temp/file_'+randomBytes(0x3)[_0x8c3146(0x205)](_0x8c3146(0x208))+'.'+(_0x14044c?_0x14044c:(await fromBuffer(_0x2711b6))[_0x8c3146(0x1dc)]),_0x18d15f=Buffer[_0x8c3146(0x1fd)](_0x95acd)?save(_0x95acd,_0x5a6617):fs[_0x8c3146(0x201)](_0x95acd)?_0x95acd:isUrl(_0x95acd)?save(_0x2711b6,_0x5a6617):_0x95acd;if(_0x15a561==_0x8c3146(0x1da))return _0x18d15f;else{if(_0x15a561==_0x8c3146(0x1e8)){const _0x2efb0b=await fs['promises'][_0x8c3146(0x1fa)](_0x18d15f);try{await fs[_0x8c3146(0x1dd)][_0x8c3146(0x1e9)](_0x18d15f);}catch(_0x327c9c){throw _0x327c9c;}return _0x2efb0b;}}};module['exports']={'toGif':toGif,'toMp4':toMp4,'toAudio':toAudio,'EightD':EightD,'_parseInput':_parseInput,'resizeImage':resizeImage};
